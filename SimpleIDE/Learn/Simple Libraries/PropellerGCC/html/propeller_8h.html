<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Propeller Device Specific Functions and Registers: propeller.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Propeller Device Specific Functions and Registers
   &#160;<span id="projectnumber">v0.5</span>
   </div>
   <div id="projectbrief">Provides low level access to Propeller microcontroller functions and registers.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">propeller.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides Propeller specific functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="cog_8h_source.html">cog.h</a>&quot;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
</div>
<p><a href="propeller_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aed019fe98cd209831728779153c5e247"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed019fe98cd209831728779153c5e247"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#aed019fe98cd209831728779153c5e247">HUBDATA</a>&#160;&#160;&#160;__attribute__((section(&quot;.hub&quot;)))</td></tr>
<tr class="memdesc:aed019fe98cd209831728779153c5e247"><td class="mdescLeft">&#160;</td><td class="mdescRight">HUBDATA tells compiler to put data into HUB RAM section. This is mostly useful in XMM modes where data must be shared in hub. <br/></td></tr>
<tr class="memitem:a237ab369ab46bf5376afeeb3212d3747"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a237ab369ab46bf5376afeeb3212d3747">HUBTEXT</a>&#160;&#160;&#160;__attribute__((section(&quot;.hubtext&quot;)))</td></tr>
<tr class="memdesc:a237ab369ab46bf5376afeeb3212d3747"><td class="mdescLeft">&#160;</td><td class="mdescRight">HUBTEXT tells compiler to put code into HUB RAM section.  <a href="#a237ab369ab46bf5376afeeb3212d3747"></a><br/></td></tr>
<tr class="memitem:a214a9b541003b871f81961eab349761d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a214a9b541003b871f81961eab349761d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a214a9b541003b871f81961eab349761d">PAR</a>&#160;&#160;&#160;_PAR</td></tr>
<tr class="memdesc:a214a9b541003b871f81961eab349761d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameter register is used for sharing HUB RAM address info with the COG. <br/></td></tr>
<tr class="memitem:a6a4288add566c8d9c96f7cb0dc661c66"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6a4288add566c8d9c96f7cb0dc661c66"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a6a4288add566c8d9c96f7cb0dc661c66">CNT</a>&#160;&#160;&#160;_CNT</td></tr>
<tr class="memdesc:a6a4288add566c8d9c96f7cb0dc661c66"><td class="mdescLeft">&#160;</td><td class="mdescRight">The system clock count. <br/></td></tr>
<tr class="memitem:a94f8ac7f3e48b77e3d63604c74ff1dd4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a94f8ac7f3e48b77e3d63604c74ff1dd4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a94f8ac7f3e48b77e3d63604c74ff1dd4">INA</a>&#160;&#160;&#160;_INA</td></tr>
<tr class="memdesc:a94f8ac7f3e48b77e3d63604c74ff1dd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use to read the pins when corresponding DIRA bits are 0. <br/></td></tr>
<tr class="memitem:a87d7f88129361059fe96135a3827e2a3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a87d7f88129361059fe96135a3827e2a3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a87d7f88129361059fe96135a3827e2a3">INB</a>&#160;&#160;&#160;_INB</td></tr>
<tr class="memdesc:a87d7f88129361059fe96135a3827e2a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unused in P8X32A. <br/></td></tr>
<tr class="memitem:ae7a773cd5d4efe75433c1818b93fca18"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7a773cd5d4efe75433c1818b93fca18"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#ae7a773cd5d4efe75433c1818b93fca18">OUTA</a>&#160;&#160;&#160;_OUTA</td></tr>
<tr class="memdesc:ae7a773cd5d4efe75433c1818b93fca18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use to set output pin states when corresponding DIRA bits are 1. <br/></td></tr>
<tr class="memitem:a1441aa5a534a1180ad256616c559ef16"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1441aa5a534a1180ad256616c559ef16"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a1441aa5a534a1180ad256616c559ef16">OUTB</a>&#160;&#160;&#160;_OUTB</td></tr>
<tr class="memdesc:a1441aa5a534a1180ad256616c559ef16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unused in P8X32A. <br/></td></tr>
<tr class="memitem:a9b229d9c9c5247460353d9b573f4c4cf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9b229d9c9c5247460353d9b573f4c4cf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a9b229d9c9c5247460353d9b573f4c4cf">DIRA</a>&#160;&#160;&#160;_DIRA</td></tr>
<tr class="memdesc:a9b229d9c9c5247460353d9b573f4c4cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use to set pins to input (0) or output (1). <br/></td></tr>
<tr class="memitem:a418d7f0dc17bdb79cc99dabd325014d3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a418d7f0dc17bdb79cc99dabd325014d3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a418d7f0dc17bdb79cc99dabd325014d3">DIRB</a>&#160;&#160;&#160;_DIRB</td></tr>
<tr class="memdesc:a418d7f0dc17bdb79cc99dabd325014d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unused in P8X32A. <br/></td></tr>
<tr class="memitem:af72d3c75ede87b1a22bf55e59abd09ff"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af72d3c75ede87b1a22bf55e59abd09ff"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#af72d3c75ede87b1a22bf55e59abd09ff">CTRA</a>&#160;&#160;&#160;_CTRA</td></tr>
<tr class="memdesc:af72d3c75ede87b1a22bf55e59abd09ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter A control register. <br/></td></tr>
<tr class="memitem:ac1437bb0875f9d1b2576857d5a140395"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1437bb0875f9d1b2576857d5a140395"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#ac1437bb0875f9d1b2576857d5a140395">CTRB</a>&#160;&#160;&#160;_CTRB</td></tr>
<tr class="memdesc:ac1437bb0875f9d1b2576857d5a140395"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter B control register. <br/></td></tr>
<tr class="memitem:a0fea5362a109ef74b40dab02dc1db3bb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0fea5362a109ef74b40dab02dc1db3bb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a0fea5362a109ef74b40dab02dc1db3bb">FRQA</a>&#160;&#160;&#160;_FRQA</td></tr>
<tr class="memdesc:a0fea5362a109ef74b40dab02dc1db3bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter A frequency register. <br/></td></tr>
<tr class="memitem:a3cd2e6eebe25eac14f14690059e2dd2a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3cd2e6eebe25eac14f14690059e2dd2a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a3cd2e6eebe25eac14f14690059e2dd2a">FRQB</a>&#160;&#160;&#160;_FRQB</td></tr>
<tr class="memdesc:a3cd2e6eebe25eac14f14690059e2dd2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter B frequency register. <br/></td></tr>
<tr class="memitem:a0ec99ed78e8e014059e115177b507d91"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0ec99ed78e8e014059e115177b507d91"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a0ec99ed78e8e014059e115177b507d91">PHSA</a>&#160;&#160;&#160;_PHSA</td></tr>
<tr class="memdesc:a0ec99ed78e8e014059e115177b507d91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter A phase accumulation register. <br/></td></tr>
<tr class="memitem:a0ec0235f4f2b66034f66ecfb46f222e6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0ec0235f4f2b66034f66ecfb46f222e6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a0ec0235f4f2b66034f66ecfb46f222e6">PHSB</a>&#160;&#160;&#160;_PHSB</td></tr>
<tr class="memdesc:a0ec0235f4f2b66034f66ecfb46f222e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter B phase accumulation register. <br/></td></tr>
<tr class="memitem:a5e7bb0988a58283fea1cc2ec6691c05e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5e7bb0988a58283fea1cc2ec6691c05e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a5e7bb0988a58283fea1cc2ec6691c05e">VCFG</a>&#160;&#160;&#160;_VCFG</td></tr>
<tr class="memdesc:a5e7bb0988a58283fea1cc2ec6691c05e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Video Configuration register can be used for other special output. <br/></td></tr>
<tr class="memitem:a06adefa5d19b24438785c2409de6a67c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a06adefa5d19b24438785c2409de6a67c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a06adefa5d19b24438785c2409de6a67c">VSCL</a>&#160;&#160;&#160;_VSCL</td></tr>
<tr class="memdesc:a06adefa5d19b24438785c2409de6a67c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Video Scale register for setting pixel and frame clocks. <br/></td></tr>
<tr class="memitem:aff0d4a4a463c7e4a0ca91c879cd77ace"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff0d4a4a463c7e4a0ca91c879cd77ace"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#aff0d4a4a463c7e4a0ca91c879cd77ace">CLKFREQ</a>&#160;&#160;&#160;<a class="el" href="cog_8h.html#a7c440c84eb8181d702434490646b7f72">_CLKFREQ</a></td></tr>
<tr class="memdesc:aff0d4a4a463c7e4a0ca91c879cd77ace"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current clock frequency. <br/></td></tr>
<tr class="memitem:afc1a700e9d3df83e08b7df4bdc0c004a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc1a700e9d3df83e08b7df4bdc0c004a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#afc1a700e9d3df83e08b7df4bdc0c004a">CLKMODE</a>&#160;&#160;&#160;<a class="el" href="cog_8h.html#a38a78fe786fd45d116aec0b2a3a5efbc">_CLKMODE</a></td></tr>
<tr class="memdesc:afc1a700e9d3df83e08b7df4bdc0c004a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current clock mode. <br/></td></tr>
<tr class="memitem:acfef40b22a09027f91ddc2edb45384c4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#acfef40b22a09027f91ddc2edb45384c4">clkset</a>(mode, frequency)</td></tr>
<tr class="memdesc:acfef40b22a09027f91ddc2edb45384c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set clock mode and frequency.  <a href="#acfef40b22a09027f91ddc2edb45384c4"></a><br/></td></tr>
<tr class="memitem:a92c3f7a12d1f728713367165b92e6db9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a92c3f7a12d1f728713367165b92e6db9">cogid</a>()&#160;&#160;&#160;__builtin_propeller_cogid()</td></tr>
<tr class="memdesc:a92c3f7a12d1f728713367165b92e6db9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the id of the current cog.  <a href="#a92c3f7a12d1f728713367165b92e6db9"></a><br/></td></tr>
<tr class="memitem:a39da62fe1e9d2828b49549df335e1c93"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a39da62fe1e9d2828b49549df335e1c93">coginit</a>(id, code, param)</td></tr>
<tr class="memdesc:a39da62fe1e9d2828b49549df335e1c93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a cog with a parameter.  <a href="#a39da62fe1e9d2828b49549df335e1c93"></a><br/></td></tr>
<tr class="memitem:ab9a90cc9adf61291eedb130afedfc48b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#ab9a90cc9adf61291eedb130afedfc48b">cognew</a>(code, param)&#160;&#160;&#160;<a class="el" href="propeller_8h.html#a39da62fe1e9d2828b49549df335e1c93">coginit</a>(0x8, (code), (param))</td></tr>
<tr class="memdesc:ab9a90cc9adf61291eedb130afedfc48b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a new Propeller PASM COG.  <a href="#ab9a90cc9adf61291eedb130afedfc48b"></a><br/></td></tr>
<tr class="memitem:afd1b85736bf9422d9e7688f104d5c1e7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#afd1b85736bf9422d9e7688f104d5c1e7">cogstop</a>(a)&#160;&#160;&#160;__builtin_propeller_cogstop((a))</td></tr>
<tr class="memdesc:afd1b85736bf9422d9e7688f104d5c1e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop a COG.  <a href="#afd1b85736bf9422d9e7688f104d5c1e7"></a><br/></td></tr>
<tr class="memitem:a19c5ca3c5ff5afd3963b9c8e506e7175"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a19c5ca3c5ff5afd3963b9c8e506e7175">locknew</a>()&#160;&#160;&#160;__builtin_propeller_locknew()</td></tr>
<tr class="memdesc:a19c5ca3c5ff5afd3963b9c8e506e7175"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a new lock.  <a href="#a19c5ca3c5ff5afd3963b9c8e506e7175"></a><br/></td></tr>
<tr class="memitem:ab70c6444bb412497ed9d978c12d5b2ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#ab70c6444bb412497ed9d978c12d5b2ad">lockret</a>(lockid)&#160;&#160;&#160;__builtin_propeller_lockret((lockid))</td></tr>
<tr class="memdesc:ab70c6444bb412497ed9d978c12d5b2ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return lock to pool.  <a href="#ab70c6444bb412497ed9d978c12d5b2ad"></a><br/></td></tr>
<tr class="memitem:af69a179c9cf1a170dd7c47555c3d5f2b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#af69a179c9cf1a170dd7c47555c3d5f2b">lockset</a>(lockid)&#160;&#160;&#160;__builtin_propeller_lockset((lockid))</td></tr>
<tr class="memdesc:af69a179c9cf1a170dd7c47555c3d5f2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a lock.  <a href="#af69a179c9cf1a170dd7c47555c3d5f2b"></a><br/></td></tr>
<tr class="memitem:a35fcabd8a692b847f091724b1e6087e1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a35fcabd8a692b847f091724b1e6087e1">lockclr</a>(lockid)&#160;&#160;&#160;__builtin_propeller_lockclr((lockid))</td></tr>
<tr class="memdesc:a35fcabd8a692b847f091724b1e6087e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear lock.  <a href="#a35fcabd8a692b847f091724b1e6087e1"></a><br/></td></tr>
<tr class="memitem:abfb115793a1f26315b713a46891d53b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#abfb115793a1f26315b713a46891d53b2">waitcnt</a>(a)&#160;&#160;&#160;__builtin_propeller_waitcnt((a),0)</td></tr>
<tr class="memdesc:abfb115793a1f26315b713a46891d53b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until system counter reaches a value.  <a href="#abfb115793a1f26315b713a46891d53b2"></a><br/></td></tr>
<tr class="memitem:a32393fc315c1b71b84cdf15c87a80255"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a32393fc315c1b71b84cdf15c87a80255">waitcnt2</a>(a, b)&#160;&#160;&#160;__builtin_propeller_waitcnt((a),(b))</td></tr>
<tr class="memdesc:a32393fc315c1b71b84cdf15c87a80255"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until system counter reaches a value.  <a href="#a32393fc315c1b71b84cdf15c87a80255"></a><br/></td></tr>
<tr class="memitem:ade2c9718605804a879c96500cd88f5da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#ade2c9718605804a879c96500cd88f5da">waitpeq</a>(state, mask)&#160;&#160;&#160;__builtin_propeller_waitpeq((state), (mask))</td></tr>
<tr class="memdesc:ade2c9718605804a879c96500cd88f5da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until INA equal state &amp; mask.  <a href="#ade2c9718605804a879c96500cd88f5da"></a><br/></td></tr>
<tr class="memitem:a6851b8e3907edf6ac0d6149c695648ba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a6851b8e3907edf6ac0d6149c695648ba">waitpne</a>(state, mask)&#160;&#160;&#160;__builtin_propeller_waitpne((state), (mask))</td></tr>
<tr class="memdesc:a6851b8e3907edf6ac0d6149c695648ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until INA not equal state &amp; mask.  <a href="#a6851b8e3907edf6ac0d6149c695648ba"></a><br/></td></tr>
<tr class="memitem:a28f313e1fc55d60a6ce8ef850ce956c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a28f313e1fc55d60a6ce8ef850ce956c5">waitvid</a>(colors, pixels)&#160;&#160;&#160;__builtin_propeller_waitvid((colors), (pixels))</td></tr>
<tr class="memdesc:a28f313e1fc55d60a6ce8ef850ce956c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for video generator to accept pixel info.  <a href="#a28f313e1fc55d60a6ce8ef850ce956c5"></a><br/></td></tr>
<tr class="memitem:a509d7a804c0a89bb935d7fd26746ee7c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a509d7a804c0a89bb935d7fd26746ee7c">use_cog_driver</a>(id)&#160;&#160;&#160;extern uint32_t binary_##id##_dat_start[]</td></tr>
<tr class="memdesc:a509d7a804c0a89bb935d7fd26746ee7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make the load symbols available for a driver.  <a href="#a509d7a804c0a89bb935d7fd26746ee7c"></a><br/></td></tr>
<tr class="memitem:a12715ad52a77528804fd9d5bd09831da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a12715ad52a77528804fd9d5bd09831da">get_cog_driver</a>(id)&#160;&#160;&#160;(binary_##id##_dat_start)                              \</td></tr>
<tr class="memdesc:a12715ad52a77528804fd9d5bd09831da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a hub memory buffer containing a driver image.  <a href="#a12715ad52a77528804fd9d5bd09831da"></a><br/></td></tr>
<tr class="memitem:ae3317d0bc6b772cfa4ab721ecf40e212"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#ae3317d0bc6b772cfa4ab721ecf40e212">load_cog_driver</a>(id, param)&#160;&#160;&#160;<a class="el" href="propeller_8h.html#ab9a90cc9adf61291eedb130afedfc48b">cognew</a>(binary_##id##_dat_start, (uint32_t *)(param))</td></tr>
<tr class="memdesc:ae3317d0bc6b772cfa4ab721ecf40e212"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a COG driver.  <a href="#ae3317d0bc6b772cfa4ab721ecf40e212"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0c1e14651d8a660c23d1cb90c82a13c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="propeller_8h.html#a0c1e14651d8a660c23d1cb90c82a13c5">cogstart</a> (void(*func)(void *), void *par, void *stack, size_t stacksize)</td></tr>
<tr class="memdesc:a0c1e14651d8a660c23d1cb90c82a13c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a new propeller LMM function/thread in another COG.  <a href="#a0c1e14651d8a660c23d1cb90c82a13c5"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Provides Propeller specific functions. </p>
<p>Copyright (c) 2011-2012 by Parallax, Inc. MIT Licensed </p>
</div><h2>Macro Definition Documentation</h2>
<a class="anchor" id="acfef40b22a09027f91ddc2edb45384c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define clkset</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">mode, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">frequency&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div>
<div class="line">  _CLKFREQ = (frequency); \</div>
<div class="line">  _CLKMODE = (mode); \</div>
<div class="line">  __builtin_propeller_clkset(mode); \</div>
<div class="line">} <span class="keywordflow">while</span>(0)</div>
</div><!-- fragment -->
<p>Set clock mode and frequency. </p>
<p>This macro is used to set the run-time clock mode and frequency. The clock mode and frequency are normally configured by the loader based on the user selected board type.</p>
<p>Please see the Propeller Data Sheet for more clock information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>The 8 bit clock mode </td></tr>
    <tr><td class="paramname">frequency</td><td>The 32 bit clock frequency </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This macro will not return a value. </dd></dl>

</div>
</div>
<a class="anchor" id="a92c3f7a12d1f728713367165b92e6db9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cogid</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;__builtin_propeller_cogid()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the id of the current cog. </p>
<p>Sometimes we need to know which COG is running the program. cogid returns that value. </p>
<dl class="section return"><dt>Returns</dt><dd>ID number of current COG </dd></dl>

</div>
</div>
<a class="anchor" id="a39da62fe1e9d2828b49549df335e1c93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define coginit</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">code, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">param&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">__builtin_propeller_coginit( \</div>
<div class="line">                                 (((uint32_t)(param) &lt;&lt; 16) &amp; 0xfffc0000) \</div>
<div class="line">                                 |(((uint32_t)(code) &lt;&lt;  2) &amp; 0x0003fff0) \</div>
<div class="line">                                 |(((<span class="keywordtype">id</span>)                  ) &amp; 0x0000000f) )</div>
</div><!-- fragment -->
<p>Start a cog with a parameter. </p>
<p>The fields in parameters are:</p>
<ul>
<li>31:18 = 14-bit Long address for PAR Register </li>
<li>17:4 = 14-bit Long address of CODE to load </li>
<li>3 = New bit </li>
<li>2:0 = Cog ID. New bit 3 is 0.</li>
</ul>
<p>It is important to realize that a 14 bit address means that long aligned addresses or pointers should be use. That is if you pass a value to the PAR such as 3, the value will be truncated to 0. A value 5 will be interpreted as 4.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The COG id to initialize </td></tr>
    <tr><td class="paramname">code</td><td>Start address of PASM code to load. </td></tr>
    <tr><td class="paramname">param</td><td>PAR address</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>COG ID provided by the builtin function or -1 on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ab9a90cc9adf61291eedb130afedfc48b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cognew</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">code, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">param&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="propeller_8h.html#a39da62fe1e9d2828b49549df335e1c93">coginit</a>(0x8, (code), (param))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a new Propeller PASM COG. </p>
<p>This is use to start a COG with code compiled as PASM, AS, or COG-C. PASM can be any Spin/PASM code that is self-contained. That is, all data for initialization and mailbox use are passed via the par parameter. Changing PASM variables from SPIN code will not work with this method.</p>
<p>GAS and COG-C programs have similar restrictions. COG-C programs should not use any stack or variables in HUB memory that are not accessed via PAR mailbox or pointers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">code</td><td>Address of PASM to load </td></tr>
    <tr><td class="paramname">param</td><td>Value of par parameter usually an address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>COG ID provided by the builtin function or -1 on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="afd1b85736bf9422d9e7688f104d5c1e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cogstop</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a</td><td>)</td>
          <td>&#160;&#160;&#160;__builtin_propeller_cogstop((a))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop a COG. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>The COG ID </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a12715ad52a77528804fd9d5bd09831da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define get_cog_driver</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id</td><td>)</td>
          <td>&#160;&#160;&#160;(binary_##id##_dat_start)                              \</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a hub memory buffer containing a driver image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The COG driver name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a237ab369ab46bf5376afeeb3212d3747"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HUBTEXT&#160;&#160;&#160;__attribute__((section(&quot;.hubtext&quot;)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>HUBTEXT tells compiler to put code into HUB RAM section. </p>
<p>This is a GCC super-power. Put code in HUB RAM even in XMM modes. Sometimes code in XMM programs is time sensitive.</p>
<p>Use HUBTEXT before a function declaration to make sure code is run from HUB instead of external memory. Performance of code run from external memory is unpredictable across platforms. </p>

</div>
</div>
<a class="anchor" id="ae3317d0bc6b772cfa4ab721ecf40e212"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define load_cog_driver</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">param&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="propeller_8h.html#ab9a90cc9adf61291eedb130afedfc48b">cognew</a>(binary_##id##_dat_start, (uint32_t *)(param))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load a COG driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The COG driver name </td></tr>
    <tr><td class="paramname">param</td><td>Parameter to pass to the driver </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the id of the COG that was loaded </dd></dl>

</div>
</div>
<a class="anchor" id="a35fcabd8a692b847f091724b1e6087e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define lockclr</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lockid</td><td>)</td>
          <td>&#160;&#160;&#160;__builtin_propeller_lockclr((lockid))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lockid</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a19c5ca3c5ff5afd3963b9c8e506e7175"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define locknew</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;__builtin_propeller_locknew()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a new lock. </p>
<dl class="section return"><dt>Returns</dt><dd>new lockid </dd></dl>

</div>
</div>
<a class="anchor" id="ab70c6444bb412497ed9d978c12d5b2ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define lockret</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lockid</td><td>)</td>
          <td>&#160;&#160;&#160;__builtin_propeller_lockret((lockid))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return lock to pool. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lockid</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af69a179c9cf1a170dd7c47555c3d5f2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define lockset</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lockid</td><td>)</td>
          <td>&#160;&#160;&#160;__builtin_propeller_lockset((lockid))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lockid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success </dd></dl>

</div>
</div>
<a class="anchor" id="a509d7a804c0a89bb935d7fd26746ee7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define use_cog_driver</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id</td><td>)</td>
          <td>&#160;&#160;&#160;extern uint32_t binary_##id##_dat_start[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make the load symbols available for a driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The COG driver name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abfb115793a1f26315b713a46891d53b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define waitcnt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a</td><td>)</td>
          <td>&#160;&#160;&#160;__builtin_propeller_waitcnt((a),0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait until system counter reaches a value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>Target value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a32393fc315c1b71b84cdf15c87a80255"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define waitcnt2</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;__builtin_propeller_waitcnt((a),(b))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait until system counter reaches a value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>Target value </td></tr>
    <tr><td class="paramname">b</td><td>Adjust value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ade2c9718605804a879c96500cd88f5da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define waitpeq</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">state, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">mask&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;__builtin_propeller_waitpeq((state), (mask))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait until INA equal state &amp; mask. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>Target value </td></tr>
    <tr><td class="paramname">mask</td><td>Ignore masked 0 bits in state </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6851b8e3907edf6ac0d6149c695648ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define waitpne</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">state, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">mask&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;__builtin_propeller_waitpne((state), (mask))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait until INA not equal state &amp; mask. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>Target value </td></tr>
    <tr><td class="paramname">mask</td><td>Ignore masked 0 bits in state </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a28f313e1fc55d60a6ce8ef850ce956c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define waitvid</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">colors, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pixels&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;__builtin_propeller_waitvid((colors), (pixels))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for video generator to accept pixel info. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">colors</td><td>A long containing four byte-sized color values, each describing the four possible colors of the pixel patterns in Pixels. </td></tr>
    <tr><td class="paramname">pixels</td><td>The next 16-pixel by 2-bit (or 32-pixel by 1-bit) pixel pattern to display. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2>Function Documentation</h2>
<a class="anchor" id="a0c1e14651d8a660c23d1cb90c82a13c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cogstart </td>
          <td>(</td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>par</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>stack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>stacksize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a new propeller LMM function/thread in another COG. </p>
<p>This function starts a new LMM VM kernel in a new COG with func as the start function. The stack size must be big enough to hold the struct _thread_state_t, the initial stack frame, and other stack frames used by called functions.</p>
<p>This function can be used instead of _start_cog_thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>LMM start function </td></tr>
    <tr><td class="paramname">par</td><td>Value of par parameter usually an address </td></tr>
    <tr><td class="paramname">stack</td><td>Address of user defined stack space. </td></tr>
    <tr><td class="paramname">stacksize</td><td>Size of user defined stack space. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>COG ID allocated by the function or -1 on failure. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 20 2014 19:15:57 for Propeller Device Specific Functions and Registers by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
